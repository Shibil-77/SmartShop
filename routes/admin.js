const express = require('express')
const router = express.Router()
const controller = require('../controllers/adminControllers')
const storage = require('../Midlewares/multer')
const bannerstorage =require('../Midlewares/bannermulter')
const session =require('../Midlewares/adminSession')

router.get('/product',session,controller.productList)
router.get('/error',session,controller.adminError)
router.route('/addproduct')
       .get(session,controller.viewProduct)
       .post(session,storage.array('image',3),controller.addProduct)
router.get('/user',session,controller.userList) 
router.route('/editproduct/:id')
       .get(session,controller.editProduct)
       .post(session,storage.array('images',3),controller.postEditProduct)
router.get('/deleteProduct/:id',session,controller.deleteProduct)  
router.get('/blockUser/:id',session,controller.blockUser)     
router.get('/unblockUser/:id',session,controller.unblockUser) 
router.route('/category')
       .get(session,controller.addCategory)
       .post(session,controller.postCategory)
router.route('/viewType')
       .get(session,controller.addviewType)
       .post(session,controller.postviewType)
router.get('/',session,controller.dashboard)    
router.get('/categoryList',session,controller.categoryList)
router.get('/deletecategory/:id',session,controller.deletecategory) 
router.get('/viewTypeList',session,controller.viewTypeList)
router.get('/deleteviewType/:id',session,controller.deleteviewType) 
router.route('/addbanner')
       .get(session,controller.addbanner)
       .post(bannerstorage.single ("bannerimage"),session,controller.postaddbanner)
router.get('/bannerList',session,controller.bannerList)
router.route('/editbanner/:id')
      .get(session,controller.editBanner)
      .post(bannerstorage.single ("bannerimage"),session,controller.posteditBanner)
router.get('/deletebanner/:id',session,controller.deletebanner) 
router.route('/adminlogin')
       .get(controller.adminlogin)
       .post(controller.postadminlogin)
router.route('/adminsignup')
      .get(controller.adminsignup)
      .post(controller.postadminsignup)
router.get('/adminlist',session,controller.adminList)
router.get('/adminAccess/:id',session,controller.adminAccess)     
router.get('/adminAccessblock/:id',session,controller.adminAccessblock) 
router.get('/adminlogonout',controller.adminlogout)


module.exports = router;