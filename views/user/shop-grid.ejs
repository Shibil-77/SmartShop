<!DOCTYPE html>
<html lang="en">

    <%- include('../inclueds/head.ejs'); %>
<body>

    <%- include('../inclueds/navbar.ejs'); %>

<div class="breadcrumbs">
<div class="container">
<div class="row">
<div class="col-12">
<div class="bread-inner">
<ul class="bread-list">
<li><a href="index.html">Home<i class="ti-arrow-right"></i></a></li>
<li class="active"><a href="#">Shop Grid</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>



<section class="product-area shop-sidebar shop section">
<div class="container">
<div class="row">
<div class="col-lg-3 col-md-4 col-12">
<div class="shop-sidebar">

<div class="single-widget category">
<h3 class="title">Categories</h3>
<ul class="categor-list">
  <li><a href="/shop">All <span>(50)</span></a></li>
  <% category.forEach(category=> { %>
<li><a href="/categoryfilter/<%=category.category %>"><%-category.category %> <span>(50)</span></a></li>
<% }); %>
</ul>
</div>



<!-- <div class="single-widget">
<h3 class="title">Brands</h3>
<div>
<div class="form-check">
<input class="form-check-input" type="checkbox" value="" id="brand1">
<label class="form-check-label" for="brand1">
Leotiba
</label>
</div>
</div>
</div> -->







</div>
</div>
<div class="col-lg-9 col-md-8 col-12">

<div class="shop-top">
<div class="row">
<div class="col-lg-2 filter-single">
<div class="filter-content">
<div class="my-auto filter-title">Show :</div>
<select>
<option selected="selected">10</option>
<option>20</option>
<option>30</option>
<option>50</option>
<option>100</option>
</select>
</div>
</div>
<div class="col-lg-8 filter-single">
<div class="filter-content">
<div class="my-auto filter-title">Sort By :</div>
<select>
<option selected="selected">Latest</option>
<option>Latest</option>
<option>Trending</option>
<option>Popular</option>
<option>Price Hight To Low</option>
<option>Price Low To High</option>
</select>
</div>
</div>
<div class="col-lg-2 filter-single">
<ul class="view-mode">
<li class="active"><a href="shop-grid.html"><i class="fal fa-th-large"></i></a></li>
<li><a href="shop-list.html"><i class="fal fa-th-list"></i></a></li>
</ul>
</div>
</div>

</div>
<div class="row">

<!--========= card ============ -->

<% product.forEach(product=> { %>

<div class="col-lg-4 col-md-6 col-12 mt-4">
<div class="single-product">
<div class="product-img">
<a href="/shopsingle/<%=product.id %>">
<img class="product-img" src="/img/product/<%-product. moreImage[0] %>" alt="#">
<span class="out-of-stock">Hot</span>
</a>
<div class="button-head">
<div class="product-action">
<a data-bs-toggle="modal" data-bs-target="#staticBackdrop" href="#"><i class="far fa-eye"></i><span>Quick Shop</span></a>
<a href="#"><i class="far fa-heart"></i><span>Add to Wishlist</span></a>
<a href="#"><i class="far fa-exchange"></i><span>Add to Compare</span></a>
</div>
</div>
</div>
<div class="product-content">
<h3><a href="/shopsingle/<%=product.id %>"><%-product.Name %></a></h3>
<div class="product-rate">
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="far fa-star"></i>
</div>
<div class="d-flex justify-content-between">
<div class="product-price">
<span class="old"><%-product.Discount %></span>
<span><%-product.Price %></span>
</div>
<button class="product-cart-btn"  type="button"><a onclick="addToCart('<%=product.id %>')"><i class="fal fa-shopping-cart"></i></a></button>
</div>
</div>
</div>
</div>

<% }); %>
<!--========= card end============ -->

</div>
<div class="col-12">

<div class="pagination center">
<ul class="pagination-list">
<li><a href="#"><i class="ti-arrow-left"></i></a></li>
<li><a href="#">1</a></li>
<li class="active"><a href="#">2</a></li>
<li><a href="#">3</a></li>
<li><a href="#"><i class="ti-arrow-right"></i></a></li>
</ul>
</div>

</div>
</div>
</div>
</div>
</section>


<%- include('../inclueds/footer.ejs'); %>


<%- include('../inclueds/end.ejs'); %>


<script>
    const addToCart  =(productId)=>{
    $.ajax({
     url:'/cart/'+productId,
     method: 'get',
     success:(response)=>{
       if(response.status){
        Swal.fire({
  position: 'top-end',
  icon: 'success',
  title: 'Your work has been saved',
  showConfirmButton: false,
  timer: 1500
     })
       }else if(response.notUser){  
        Swal.fire({
  title: 'Please Login',
  showDenyButton: true,
  showCancelButton: true,
  confirmButtonText: 'Login',
  denyButtonText: `Don't Login`,
}).then((result) => {
  /* Read more about isConfirmed, isDenied below */
  if (result.isConfirmed) {
    Swal.fire('Login', '', 'success')
    location.href = '/login'
  } else if (result.isDenied) {
    Swal.fire('Do not Login', '', 'info')
  }
})
    }
     } 
    })
    }
 </script>
</body>
</html>